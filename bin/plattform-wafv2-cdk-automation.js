#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const plattform_wafv2_cdk_automation_stack_1 = require("../lib/plattform-wafv2-cdk-automation-stack");
const cdk = require("@aws-cdk/core");
const fs = require("fs");
const configFile = process.env.CONFIG_FILE;
if (configFile && fs.existsSync(configFile)) {
    let config = require(fs.realpathSync(configFile));
    console.log(config);
    const app = new cdk.App();
    new plattform_wafv2_cdk_automation_stack_1.PlattformWafv2CdkAutomationStack(app, 'PlattformWafv2CdkAutomationStack', {
        config
    });
    app.synth();
}
else {
    console.log('File', configFile, 'not found.');
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGxhdHRmb3JtLXdhZnYyLWNkay1hdXRvbWF0aW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsicGxhdHRmb3JtLXdhZnYyLWNkay1hdXRvbWF0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNBLHNHQUF1RztBQUN2RyxxQ0FBcUM7QUFDckMseUJBQXlCO0FBR3pCLE1BQU0sVUFBVSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDO0FBRTNDLElBQUksVUFBVSxJQUFJLEVBQUUsQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLEVBQUU7SUFDM0MsSUFBSSxNQUFNLEdBQVcsT0FBTyxDQUFDLEVBQUUsQ0FBQyxZQUFZLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztJQUMxRCxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3BCLE1BQU0sR0FBRyxHQUFHLElBQUksR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO0lBQzFCLElBQUksdUVBQWdDLENBQUMsR0FBRyxFQUFFLGtDQUFrQyxFQUFDO1FBQzNFLE1BQU07S0FDUCxDQUFDLENBQUM7SUFDSCxHQUFHLENBQUMsS0FBSyxFQUFFLENBQUE7Q0FDWjtLQUFNO0lBQ0wsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUMsVUFBVSxFQUFDLFlBQVksQ0FBQyxDQUFDO0NBQzdDIiwic291cmNlc0NvbnRlbnQiOlsiIyEvdXNyL2Jpbi9lbnYgbm9kZVxuaW1wb3J0IHsgUGxhdHRmb3JtV2FmdjJDZGtBdXRvbWF0aW9uU3RhY2ssIENvbmZpZyB9IGZyb20gJy4uL2xpYi9wbGF0dGZvcm0td2FmdjItY2RrLWF1dG9tYXRpb24tc3RhY2snO1xuaW1wb3J0ICogYXMgY2RrIGZyb20gJ0Bhd3MtY2RrL2NvcmUnO1xuaW1wb3J0ICogYXMgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IHsgQXBwIH0gZnJvbSAnQGF3cy1jZGsvY29yZSc7XG5cbmNvbnN0IGNvbmZpZ0ZpbGUgPSBwcm9jZXNzLmVudi5DT05GSUdfRklMRTtcblxuaWYgKGNvbmZpZ0ZpbGUgJiYgZnMuZXhpc3RzU3luYyhjb25maWdGaWxlKSkge1xuICBsZXQgY29uZmlnOiBDb25maWcgPSByZXF1aXJlKGZzLnJlYWxwYXRoU3luYyhjb25maWdGaWxlKSk7XG4gIGNvbnNvbGUubG9nKGNvbmZpZyk7XG4gIGNvbnN0IGFwcCA9IG5ldyBjZGsuQXBwKCk7XG4gIG5ldyBQbGF0dGZvcm1XYWZ2MkNka0F1dG9tYXRpb25TdGFjayhhcHAsICdQbGF0dGZvcm1XYWZ2MkNka0F1dG9tYXRpb25TdGFjaycse1xuICAgIGNvbmZpZyBcbiAgfSk7XG4gIGFwcC5zeW50aCgpXG59IGVsc2Uge1xuICBjb25zb2xlLmxvZygnRmlsZScsY29uZmlnRmlsZSwnbm90IGZvdW5kLicpO1xufVxuXG4iXX0=